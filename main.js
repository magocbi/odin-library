(()=>{"use strict";var t={839:(t,e,a)=>{t.exports=a.p+"images/74d5184b0557898a87f0.svg"}},e={};function a(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,a),s.exports}a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{var t=a(839);const e=[{id:1,title:"Modern Buildings",author:"Ardi Evans",pages:206,urlImage:"https://images.unsplash.com/photo-1615347497551-277d6616b959?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=692&q=80"},{id:2,title:"Busy City Life",author:"Lerone Pieters",pages:307,urlImage:"https://images.unsplash.com/photo-1615346340977-cf7f5a8f3059?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"},{id:3,title:"Sweets and Cakes",author:"Uliana Kopanytsia",pages:119,urlImage:"https://images.unsplash.com/photo-1615351897596-d3a9fffb5797?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=665&q=80"},{id:4,title:"Vast Deserts",author:"Riccardo Andolfo",pages:123,urlImage:"https://images.unsplash.com/photo-1615333619365-a44d7e655661?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1050&q=80"},{id:5,title:"Parkour",author:"Miguel Arguibide",pages:56,urlImage:"https://images.unsplash.com/photo-1615286505008-cbca9896192f?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=962&q=80"},{id:6,title:"Cute Kitties",author:"Tran Mau Tri Tam",pages:489,urlImage:"https://images.unsplash.com/photo-1615369794017-f65e6f0c0393?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80"},{id:7,title:"Beahces",author:"Josh Hemsley",pages:99,urlImage:"https://images.unsplash.com/photo-1615357633073-a7b67638dedb?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=564&q=80"},{id:8,title:"Tides",author:"Carlos Mesa",pages:74,urlImage:"https://images.unsplash.com/photo-1615185054269-363482a365ad?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=809&q=80"},{id:9,title:"Magnificent Forests",author:"Kellen Riggin",pages:35,urlImage:"https://images.unsplash.com/photo-1615331224984-281512856592?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80"},{id:10,title:"Butterflies",author:"Navi Photography",pages:358,urlImage:"https://images.unsplash.com/photo-1615300236079-4bdb43bd9a9a?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=80"}],o=function(){let t=[];return{addBook:function(e){t.push(e)},removeBook:function(e){t=t.filter(((t,a)=>a!==e))},toggleRead:function(e){t[e].toggleRead()},getBooks:function(){return t.slice()}}}();class i{constructor(t,e,a,o,i){this.title=t,this.author=e,this.numberOfPages=a,this.read=o,this.img=i}toggleRead=function(){this.read=!this.read}}function s(e,a,s,r=!1,n=t){const c=new i(e,a,s,r,n);o.addBook(c)}const r=document.querySelector(".library"),n=document.querySelector(".modal-container"),c=document.querySelector(".btn-add"),d=n.querySelector(".modal-form");function l(){const t=o.getBooks().map(((t,e)=>function(t,{title:e,author:a,numberOfPages:o,read:i,img:s}){const r=document.createElement("li"),n=document.createElement("button"),c=document.createElement("span"),d=document.createElement("div"),l=document.createElement("img"),u=document.createElement("div"),f=document.createElement("h2"),m=document.createElement("h3"),p=document.createElement("div"),g=document.createElement("h4"),h=document.createElement("p"),b=document.createElement("button");return r.dataset.key=t,r.classList.add("book-card"),i&&r.classList.add("read"),n.classList.add("remove-btn"),c.classList.add("material-icons-outlined"),c.classList.add("material-icons"),c.textContent="cancel",d.classList.add("img-container"),l.src=s,u.classList.add("book-info"),f.classList.add("title"),f.textContent=e,m.classList.add("author"),m.textContent=`by ${a}`,p.classList.add("pages"),g.textContent="Pages:",h.textContent=o,b.classList.add("btn-toggle-read"),b.textContent=i?"READ":"UNREAD",p.append(g,h),u.append(f,m,p),d.append(l),n.append(c),r.append(n,d,u,b),r}(e,t)));r.innerHTML="",r.append(...t)}function u(){n.classList.add("closed"),d.removeEventListener("submit",f)}function f(t){t.preventDefault();const e=d.elements.title.value,a=d.elements.author.value,o=d.elements.pages.value,i=d.elements.url.value,r=d.elements.read.checked;i.trim()?s(e,a,o,r,i):s(e,a,o,r),u(),l()}window.addEventListener("DOMContentLoaded",(()=>{e.forEach((({title:t,author:e,pages:a,urlImage:o})=>s(t,e,a,!0,o))),l()})),c.addEventListener("click",(function(){n.classList.remove("closed"),d.addEventListener("submit",f)})),n.addEventListener("click",(function(t){t.stopPropagation(),t.target.classList.contains("modal-container")&&u()})),r.addEventListener("click",(function(t){const e=t.target.closest(".remove-btn"),a=t.target.closest(".btn-toggle-read");if(e||a){if(e){const t=e.closest(".book-card[data-key]").dataset.key;o.removeBook(parseInt(t))}if(a){const t=a.closest(".book-card[data-key]").dataset.key;o.toggleRead(t)}l()}}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBQSxFQUFPQyxTQUFBQSxLQUNyQ2tCLEVBQWlCckIsRUFBT0MsRUFBUUMsR0FBTyxFQUFNQyxLQXlIL0N5QixPQUdGRixFQUFha0MsaUJBQWlCLFNBL0I5QixXQUNFbkMsRUFBZW9CLFVBQVVpQixPQUFPLFVBQ2hDbkMsRUFBU2lDLGlCQUFpQixTQUFVUCxNQThCdEM1QixFQUFlbUMsaUJBQWlCLFNBdENoQyxTQUEwQjVFLEdBQ3hCQSxFQUFFK0Usa0JBQ0cvRSxFQUFFZ0YsT0FBT25CLFVBQVVvQixTQUFTLG9CQUNqQ2QsT0FvQ0Y1QixFQUFZcUMsaUJBQWlCLFNBNUI3QixTQUE0QjVFLEdBQzFCLE1BQU1pRCxFQUFZakQsRUFBRWdGLE9BQU9FLFFBQVEsZUFDN0JDLEVBQWdCbkYsRUFBRWdGLE9BQU9FLFFBQVEsb0JBQ3ZDLEdBQUtqQyxHQUFja0MsRUFBbkIsQ0FFQSxHQUFJbEMsRUFBVyxDQUNiLE1BQU1yQixFQUFRcUIsRUFBVWlDLFFBQVEsd0JBQXdCdkIsUUFBUUMsSUFDaEV4QyxFQUFVSyxXQUFXMkQsU0FBU3hELElBR2hDLEdBQUl1RCxFQUFlLENBQ2pCLE1BQU12RCxFQUFRdUQsRUFBY0QsUUFBUSx3QkFBd0J2QixRQUFRQyxJQUNwRXhDLEVBQVVTLFdBQVdELEdBRXZCZ0IsUyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tbGlicmFyeS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9vZGluLWxpYnJhcnkvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vb2Rpbi1saWJyYXJ5Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiY29uc3QgYm9va3MgPSBbXG4gIHtcbiAgICBpZDogMSxcbiAgICB0aXRsZTogJ01vZGVybiBCdWlsZGluZ3MnLFxuICAgIGF1dGhvcjogJ0FyZGkgRXZhbnMnLFxuICAgIHBhZ2VzOiAyMDYsXG4gICAgdXJsSW1hZ2U6XG4gICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTUzNDc0OTc1NTEtMjc3ZDY2MTZiOTU5P2l4aWQ9TVh3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIdyUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTY5MiZxPTgwJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyLFxuICAgIHRpdGxlOiAnQnVzeSBDaXR5IExpZmUnLFxuICAgIGF1dGhvcjogJ0xlcm9uZSBQaWV0ZXJzJyxcbiAgICBwYWdlczogMzA3LFxuICAgIHVybEltYWdlOlxuICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjE1MzQ2MzQwOTc3LWNmN2Y1YThmMzA1OT9peGlkPU1Yd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHclM0QmaXhsaWI9cmItMS4yLjEmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xMzUwJnE9ODAnLFxuICB9LFxuICB7XG4gICAgaWQ6IDMsXG4gICAgdGl0bGU6ICdTd2VldHMgYW5kIENha2VzJyxcbiAgICBhdXRob3I6ICdVbGlhbmEgS29wYW55dHNpYScsXG4gICAgcGFnZXM6IDExOSxcbiAgICB1cmxJbWFnZTpcbiAgICAgICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYxNTM1MTg5NzU5Ni1kM2E5ZmZmYjU3OTc/aXhpZD1NWHd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh3JTNEJml4bGliPXJiLTEuMi4xJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NjY1JnE9ODAnLFxuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgdGl0bGU6ICdWYXN0IERlc2VydHMnLFxuICAgIGF1dGhvcjogJ1JpY2NhcmRvIEFuZG9sZm8nLFxuICAgIHBhZ2VzOiAxMjMsXG4gICAgdXJsSW1hZ2U6XG4gICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTUzMzM2MTkzNjUtYTQ0ZDdlNjU1NjYxP2l4bGliPXJiLTEuMi4xJml4aWQ9TVh3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIdyUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTEwNTAmcT04MCcsXG4gIH0sXG4gIHtcbiAgICBpZDogNSxcbiAgICB0aXRsZTogJ1BhcmtvdXInLFxuICAgIGF1dGhvcjogJ01pZ3VlbCBBcmd1aWJpZGUnLFxuICAgIHBhZ2VzOiA1NixcbiAgICB1cmxJbWFnZTpcbiAgICAgICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYxNTI4NjUwNTAwOC1jYmNhOTg5NjE5MmY/aXhsaWI9cmItMS4yLjEmaXhpZD1NWHd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh3JTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9OTYyJnE9ODAnLFxuICB9LFxuICB7XG4gICAgaWQ6IDYsXG4gICAgdGl0bGU6ICdDdXRlIEtpdHRpZXMnLFxuICAgIGF1dGhvcjogJ1RyYW4gTWF1IFRyaSBUYW0nLFxuICAgIHBhZ2VzOiA0ODksXG4gICAgdXJsSW1hZ2U6XG4gICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTUzNjk3OTQwMTctZjY1ZTZmMGMwMzkzP2l4aWQ9TVh3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIdyUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTYzNCZxPTgwJyxcbiAgfSxcbiAge1xuICAgIGlkOiA3LFxuICAgIHRpdGxlOiAnQmVhaGNlcycsXG4gICAgYXV0aG9yOiAnSm9zaCBIZW1zbGV5JyxcbiAgICBwYWdlczogOTksXG4gICAgdXJsSW1hZ2U6XG4gICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTUzNTc2MzMwNzMtYTdiNjc2MzhkZWRiP2l4aWQ9TVh3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIdyUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTU2NCZxPTgwJyxcbiAgfSxcbiAge1xuICAgIGlkOiA4LFxuICAgIHRpdGxlOiAnVGlkZXMnLFxuICAgIGF1dGhvcjogJ0NhcmxvcyBNZXNhJyxcbiAgICBwYWdlczogNzQsXG4gICAgdXJsSW1hZ2U6XG4gICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTUxODUwNTQyNjktMzYzNDgyYTM2NWFkP2l4aWQ9TVh3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIdyUzRCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTgwOSZxPTgwJyxcbiAgfSxcbiAge1xuICAgIGlkOiA5LFxuICAgIHRpdGxlOiAnTWFnbmlmaWNlbnQgRm9yZXN0cycsXG4gICAgYXV0aG9yOiAnS2VsbGVuIFJpZ2dpbicsXG4gICAgcGFnZXM6IDM1LFxuICAgIHVybEltYWdlOlxuICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjE1MzMxMjI0OTg0LTI4MTUxMjg1NjU5Mj9peGlkPU1Yd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHclM0QmaXhsaWI9cmItMS4yLjEmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz02MzQmcT04MCcsXG4gIH0sXG4gIHtcbiAgICBpZDogMTAsXG4gICAgdGl0bGU6ICdCdXR0ZXJmbGllcycsXG4gICAgYXV0aG9yOiAnTmF2aSBQaG90b2dyYXBoeScsXG4gICAgcGFnZXM6IDM1OCxcbiAgICB1cmxJbWFnZTpcbiAgICAgICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYxNTMwMDIzNjA3OS00YmRiNDNiZDlhOWE/aXhpZD1NWHd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh3JTNEJml4bGliPXJiLTEuMi4xJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NzAwJnE9ODAnLFxuICB9LFxuXTtcblxuaW1wb3J0IERFRkFVTFRfQk9PS19JTUcgZnJvbSAnLi4vaW1hZ2VzL2Jvb2staW1nLnN2Zyc7XG5cbmNvbnN0IG15TGlicmFyeSA9IChmdW5jdGlvbiBjcmVhdGVMaWJyYXJ5KCkge1xuICBsZXQgbGlicmFyeSA9IFtdO1xuXG4gIGZ1bmN0aW9uIGFkZEJvb2soYm9vaykge1xuICAgIGxpYnJhcnkucHVzaChib29rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUJvb2soaW5kZXhUb1JlbW92ZSkge1xuICAgIGxpYnJhcnkgPSBsaWJyYXJ5LmZpbHRlcigoYm9vaywgaW5kZXgpID0+IGluZGV4ICE9PSBpbmRleFRvUmVtb3ZlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJvb2tzKCkge1xuICAgIHJldHVybiBsaWJyYXJ5LnNsaWNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVSZWFkKGluZGV4KSB7XG4gICAgbGlicmFyeVtpbmRleF0udG9nZ2xlUmVhZCgpO1xuICB9XG5cbiAgcmV0dXJuIHsgYWRkQm9vaywgcmVtb3ZlQm9vaywgdG9nZ2xlUmVhZCwgZ2V0Qm9va3MgfTtcbn0pKCk7XG5cbmNsYXNzIEJvb2sge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgYXV0aG9yLCBudW1iZXJPZlBhZ2VzLCByZWFkLCBpbWcpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5hdXRob3IgPSBhdXRob3I7XG4gICAgdGhpcy5udW1iZXJPZlBhZ2VzID0gbnVtYmVyT2ZQYWdlcztcbiAgICB0aGlzLnJlYWQgPSByZWFkO1xuICAgIHRoaXMuaW1nID0gaW1nO1xuICB9XG4gIHRvZ2dsZVJlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZWFkID0gIXRoaXMucmVhZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYWRkQm9va1RvTGlicmFyeShcbiAgdGl0bGUsXG4gIGF1dGhvcixcbiAgbnVtYmVyT2ZQYWdlcyxcbiAgcmVhZCA9IGZhbHNlLFxuICBpbWcgPSBERUZBVUxUX0JPT0tfSU1HXG4pIHtcbiAgY29uc3QgYm9va1RvQWRkID0gbmV3IEJvb2sodGl0bGUsIGF1dGhvciwgbnVtYmVyT2ZQYWdlcywgcmVhZCwgaW1nKTtcbiAgbXlMaWJyYXJ5LmFkZEJvb2soYm9va1RvQWRkKTtcbn1cblxuLy8gUHJlLWFkZCBCb29rcyB0byB0aGUgbGlicmFyeVxuZnVuY3Rpb24gYWRkUHJlc2V0Qm9va3MoKSB7XG4gIGJvb2tzLmZvckVhY2goKHsgdGl0bGUsIGF1dGhvciwgcGFnZXMsIHVybEltYWdlIH0pID0+XG4gICAgYWRkQm9va1RvTGlicmFyeSh0aXRsZSwgYXV0aG9yLCBwYWdlcywgdHJ1ZSwgdXJsSW1hZ2UpXG4gICk7XG59XG5cbi8vIFVJIGxvZ2ljXG5cbmZ1bmN0aW9uIGNyZWF0ZUJvb2tDYXJkKGluZGV4LCB7IHRpdGxlLCBhdXRob3IsIG51bWJlck9mUGFnZXMsIHJlYWQsIGltZyB9KSB7XG4gIGNvbnN0IGJvb2tDYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgY29uc3QgcmVtb3ZlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNvbnN0IHJlbW92ZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIGNvbnN0IGltZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBjb25zdCBib29rSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBib29rVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICBjb25zdCBib29rQXV0aG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgcGFnZXNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7XG4gIGNvbnN0IHBhZ2VzTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBjb25zdCByZWFkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgYm9va0NhcmQuZGF0YXNldC5rZXkgPSBpbmRleDtcbiAgYm9va0NhcmQuY2xhc3NMaXN0LmFkZCgnYm9vay1jYXJkJyk7XG4gIGlmIChyZWFkKSB7XG4gICAgYm9va0NhcmQuY2xhc3NMaXN0LmFkZCgncmVhZCcpO1xuICB9XG4gIHJlbW92ZUJ0bi5jbGFzc0xpc3QuYWRkKCdyZW1vdmUtYnRuJyk7XG4gIHJlbW92ZUljb24uY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtaWNvbnMtb3V0bGluZWQnKTtcbiAgcmVtb3ZlSWNvbi5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbC1pY29ucycpO1xuICByZW1vdmVJY29uLnRleHRDb250ZW50ID0gJ2NhbmNlbCc7XG4gIGltZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdpbWctY29udGFpbmVyJyk7XG4gIGltYWdlLnNyYyA9IGltZztcbiAgYm9va0luZm8uY2xhc3NMaXN0LmFkZCgnYm9vay1pbmZvJyk7XG4gIGJvb2tUaXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZScpO1xuICBib29rVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgYm9va0F1dGhvci5jbGFzc0xpc3QuYWRkKCdhdXRob3InKTtcbiAgYm9va0F1dGhvci50ZXh0Q29udGVudCA9IGBieSAke2F1dGhvcn1gO1xuICBwYWdlcy5jbGFzc0xpc3QuYWRkKCdwYWdlcycpO1xuICBwYWdlc0xhYmVsLnRleHRDb250ZW50ID0gJ1BhZ2VzOic7XG4gIHBhZ2VzTnVtYmVyLnRleHRDb250ZW50ID0gbnVtYmVyT2ZQYWdlcztcbiAgcmVhZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tdG9nZ2xlLXJlYWQnKTtcbiAgcmVhZEJ1dHRvbi50ZXh0Q29udGVudCA9IHJlYWQgPyAnUkVBRCcgOiAnVU5SRUFEJztcblxuICBwYWdlcy5hcHBlbmQocGFnZXNMYWJlbCwgcGFnZXNOdW1iZXIpO1xuICBib29rSW5mby5hcHBlbmQoYm9va1RpdGxlLCBib29rQXV0aG9yLCBwYWdlcyk7XG4gIGltZ0NvbnRhaW5lci5hcHBlbmQoaW1hZ2UpO1xuICByZW1vdmVCdG4uYXBwZW5kKHJlbW92ZUljb24pO1xuICBib29rQ2FyZC5hcHBlbmQocmVtb3ZlQnRuLCBpbWdDb250YWluZXIsIGJvb2tJbmZvLCByZWFkQnV0dG9uKTtcblxuICByZXR1cm4gYm9va0NhcmQ7XG59XG5cbmNvbnN0IGxpYnJhcnlFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpYnJhcnknKTtcbmNvbnN0IG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRhaW5lcicpO1xuY29uc3Qgb3Blbk1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1hZGQnKTtcbmNvbnN0IGJvb2tGb3JtID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvcm0nKTtcblxuLy8gRGlzcGxheSBsaWJyYXJ5IGluIGNhcmRzXG5mdW5jdGlvbiBwb3B1bGF0ZUxpYnJhcnkoKSB7XG4gIGNvbnN0IGNhcmRMaXN0ID0gbXlMaWJyYXJ5XG4gICAgLmdldEJvb2tzKClcbiAgICAubWFwKChib29rLCBpbmRleCkgPT4gY3JlYXRlQm9va0NhcmQoaW5kZXgsIGJvb2spKTtcbiAgbGlicmFyeUVsZW0uaW5uZXJIVE1MID0gJyc7XG4gIGxpYnJhcnlFbGVtLmFwcGVuZCguLi5jYXJkTGlzdCk7XG59XG5cbi8vIEV2ZW50IEhhbmRsZXJzXG5mdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xuICBtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgYm9va0Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQWRkQm9vayk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZEJvb2soZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHRpdGxlID0gYm9va0Zvcm0uZWxlbWVudHMudGl0bGUudmFsdWU7XG4gIGNvbnN0IGF1dGhvciA9IGJvb2tGb3JtLmVsZW1lbnRzLmF1dGhvci52YWx1ZTtcbiAgY29uc3QgcGFnZXMgPSBib29rRm9ybS5lbGVtZW50cy5wYWdlcy52YWx1ZTtcbiAgY29uc3QgdXJsID0gYm9va0Zvcm0uZWxlbWVudHMudXJsLnZhbHVlO1xuICBjb25zdCByZWFkID0gYm9va0Zvcm0uZWxlbWVudHMucmVhZC5jaGVja2VkO1xuICBpZiAodXJsLnRyaW0oKSkge1xuICAgIGFkZEJvb2tUb0xpYnJhcnkodGl0bGUsIGF1dGhvciwgcGFnZXMsIHJlYWQsIHVybCk7XG4gIH0gZWxzZSB7XG4gICAgYWRkQm9va1RvTGlicmFyeSh0aXRsZSwgYXV0aG9yLCBwYWdlcywgcmVhZCk7XG4gIH1cbiAgY2xvc2VNb2RhbCgpO1xuICBwb3B1bGF0ZUxpYnJhcnkoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2xvc2VNb2RhbChlKSB7XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1jb250YWluZXInKSkgcmV0dXJuO1xuICBjbG9zZU1vZGFsKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU9wZW5Nb2RhbCgpIHtcbiAgbW9kYWxDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gIGJvb2tGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUFkZEJvb2spO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVMaWJyYXJ5Q2xpY2soZSkge1xuICBjb25zdCByZW1vdmVCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcucmVtb3ZlLWJ0bicpO1xuICBjb25zdCByZWFkVG9nZ2xlQnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmJ0bi10b2dnbGUtcmVhZCcpO1xuICBpZiAoIXJlbW92ZUJ0biAmJiAhcmVhZFRvZ2dsZUJ0bikgcmV0dXJuO1xuXG4gIGlmIChyZW1vdmVCdG4pIHtcbiAgICBjb25zdCBpbmRleCA9IHJlbW92ZUJ0bi5jbG9zZXN0KCcuYm9vay1jYXJkW2RhdGEta2V5XScpLmRhdGFzZXQua2V5O1xuICAgIG15TGlicmFyeS5yZW1vdmVCb29rKHBhcnNlSW50KGluZGV4KSk7XG4gIH1cblxuICBpZiAocmVhZFRvZ2dsZUJ0bikge1xuICAgIGNvbnN0IGluZGV4ID0gcmVhZFRvZ2dsZUJ0bi5jbG9zZXN0KCcuYm9vay1jYXJkW2RhdGEta2V5XScpLmRhdGFzZXQua2V5O1xuICAgIG15TGlicmFyeS50b2dnbGVSZWFkKGluZGV4KTtcbiAgfVxuICBwb3B1bGF0ZUxpYnJhcnkoKTtcbn1cblxuLy8gRXZlbnQgTGlzdGVuZXJzXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAvLyBwcmUtYWRkIGJvb2tzXG4gIGFkZFByZXNldEJvb2tzKCk7XG4gIC8vIGRpc3BsYXkgYm9va3NcbiAgcG9wdWxhdGVMaWJyYXJ5KCk7XG59KTtcblxub3Blbk1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlT3Blbk1vZGFsKTtcbm1vZGFsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xvc2VNb2RhbCk7XG5saWJyYXJ5RWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUxpYnJhcnlDbGljayk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiYm9va3MiLCJpZCIsInRpdGxlIiwiYXV0aG9yIiwicGFnZXMiLCJ1cmxJbWFnZSIsIm15TGlicmFyeSIsImxpYnJhcnkiLCJhZGRCb29rIiwiYm9vayIsInB1c2giLCJyZW1vdmVCb29rIiwiaW5kZXhUb1JlbW92ZSIsImZpbHRlciIsImluZGV4IiwidG9nZ2xlUmVhZCIsImdldEJvb2tzIiwic2xpY2UiLCJCb29rIiwiY29uc3RydWN0b3IiLCJudW1iZXJPZlBhZ2VzIiwicmVhZCIsImltZyIsImFkZEJvb2tUb0xpYnJhcnkiLCJib29rVG9BZGQiLCJsaWJyYXJ5RWxlbSIsInF1ZXJ5U2VsZWN0b3IiLCJtb2RhbENvbnRhaW5lciIsIm9wZW5Nb2RhbEJ0biIsImJvb2tGb3JtIiwicG9wdWxhdGVMaWJyYXJ5IiwiY2FyZExpc3QiLCJtYXAiLCJib29rQ2FyZCIsImNyZWF0ZUVsZW1lbnQiLCJyZW1vdmVCdG4iLCJyZW1vdmVJY29uIiwiaW1nQ29udGFpbmVyIiwiaW1hZ2UiLCJib29rSW5mbyIsImJvb2tUaXRsZSIsImJvb2tBdXRob3IiLCJwYWdlc0xhYmVsIiwicGFnZXNOdW1iZXIiLCJyZWFkQnV0dG9uIiwiZGF0YXNldCIsImtleSIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiYXBwZW5kIiwiY3JlYXRlQm9va0NhcmQiLCJpbm5lckhUTUwiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUFkZEJvb2siLCJwcmV2ZW50RGVmYXVsdCIsImVsZW1lbnRzIiwidmFsdWUiLCJ1cmwiLCJjaGVja2VkIiwidHJpbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JFYWNoIiwicmVtb3ZlIiwic3RvcFByb3BhZ2F0aW9uIiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZXN0IiwicmVhZFRvZ2dsZUJ0biIsInBhcnNlSW50Il0sInNvdXJjZVJvb3QiOiIifQ==